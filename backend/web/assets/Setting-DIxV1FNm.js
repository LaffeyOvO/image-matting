import{u as d,r as m,o as y,a as c,c as u,b as e,t,g as a,h as I,H as S,F as k,l as B,s as _,m as C,I as L}from"./index-D1CJl6Y2.js";import{m as f}from"./message-B7YrNn6S.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const j="/wx_qr.png",A={class:"p-6 max-full flex flex-col items-center"},D={class:"text-2xl font-bold mb-3"},F={class:"w-full max-w-lg p-3 rounded-lg shadow-md mb-3"},M={class:"mb-4"},P={class:"block text-md font-medium mb-2",for:"language"},V=["value"],q={class:"w-full max-w-lg p-6 rounded-lg shadow-md mb-6"},E={class:"text-xl font-semibold mb-2"},H={class:"mb-2"},N={class:"mb-2"},Q={class:"mb-2"},R=e("div",{class:"flex justify-center"},[e("img",{src:j,alt:"WeChat QR Code",class:"w-full h-32 object-cover rounded-md"})],-1),J={__name:"Setting",setup(U){const{locale:r}=d(),{t:o}=d(),n=m({language:""}),l=m({author:"",email:"",version:""}),v=async()=>{const s=await _("get","");n.value=s.data,console.log(n.value),r.value=n.value.language},h=s=>{r.value=s},b=async()=>{const s=await _("put",n.value);s.code===200?(f.info(s.msg),h(n.value.language)):f.error(s.err_msg)},p=async()=>{const s=await C("get_system_info");s.code===200&&(l.value=s.data)};return y(async()=>{await v(),await p()}),(s,g)=>(c(),u("div",A,[e("h2",D,t(a(o)("setting.title")),1),e("div",F,[e("div",M,[e("label",P,t(a(o)("setting.language")),1),I(e("select",{id:"language","onUpdate:modelValue":g[0]||(g[0]=i=>n.value.language=i),class:"select select-bordered w-full"},[(c(!0),u(k,null,B(a(L),(i,w,x)=>(c(),u("option",{key:x,value:w},t(i),9,V))),128))],512),[[S,n.value.language]])]),e("button",{onClick:b,class:"btn btn-primary w-full"},t(a(o)("setting.save_btn")),1)]),e("div",q,[e("h3",E,t(a(o)("setting.system_info")),1),e("p",H,t(a(o)("setting.author"))+": "+t(l.value.author),1),e("p",N,t(a(o)("setting.email"))+": "+t(l.value.email),1),e("p",Q,t(a(o)("setting.version"))+": "+t(l.value.version),1),R])]))}};export{J as default};
