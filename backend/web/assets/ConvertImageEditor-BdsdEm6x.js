import{u as h,j as x,r as l,A as y,a as d,c as m,f as F,b as a,t as n,g as f,h as w,I as P,F as C,l as B,m as p}from"./index-ud1mkppS.js";import{I as E}from"./ImageCroperView-D-Y4WzLh.js";import{c as k}from"./convert_image-Coi8lgej.js";import{m as c}from"./message-CcOXwnpb.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";const O={class:"container mx-auto"},G={class:"flex justify-center space-x-10 mt-4"},S=["value"],T=["disabled"],U={__name:"ConvertImageEditor",setup(z){const{t:i}=h();x();const u=l(""),s=l(""),r=l("PNG"),_=l({move:!0,crop:!1,cancel:!1,confirm:!1,zoomIn:!0,zoomOut:!0,rotateLeft:!1,rotateRight:!1,flipHorizontal:!1,flipVertical:!1,background:!1,delete:!1,play:!1}),g=["PNG","JPEG","GIF","BMP","WEBP","ICO","ICNS","TIFF","PDF"],v=async e=>{const t=await p("get_local_file_base64",e);return t.code===200?t.data.base64_image:(c.error(t.error_msg),"")},b=async()=>{const e=await p("open_file_dialog",!1);e.code===200&&(s.value=e.data.file_path)};y(s,async e=>{e&&(u.value=await v(e))});const I=async()=>{const e=await k("get_convert_image",{input_path:s.value,output_format:r.value});e.code===200?c.info("success"):(loading.value=!1,c.error(e.error_msg))};return(e,t)=>(d(),m("div",O,[F(E,{imageUrl:u.value,toolbarOptions:_.value},null,8,["imageUrl","toolbarOptions"]),a("div",G,[a("button",{class:"bg-green-500 btn text-white px-4 py-2 rounded-full btn-md",onClick:b},n(f(i)("convert.convert_image.select_btn")),1),w(a("select",{"onUpdate:modelValue":t[0]||(t[0]=o=>r.value=o),class:"select select-bordered w-32 px-4"},[(d(),m(C,null,B(g,o=>a("option",{value:o},n(o),9,S)),64))],512),[[P,r.value]]),a("button",{disabled:!s.value,onClick:I,class:"bg-green-500 btn text-white px-4 py-2 rounded-full btn-md"},n(f(i)("convert.convert_image.convert_btn")),9,T)])]))}},M=N(U,[["__scopeId","data-v-3d1e34d0"]]);export{M as default};
